{"ast":null,"code":"var express = require('express');\n\nvar app = express();\n\nvar http = require('http').Server(app);\n\nvar io = require('socket.io')(http);\n\nvar fs = require('fs');\n\nvar elasticsearch = require('elasticsearch');\n\nvar client = new elasticsearch.Client({\n  host: '2ac54adbf4dadad2000.qb0x.com:80'\n});\napp.use(express.static('public'));\napp.get('*', function (req, res) {\n  res.send(fs.readFileSync('index.html', {\n    encoding: 'utf8'\n  }));\n});\nio.on('connection', function (socket) {\n  socket.on('flux_action', function (payload) {\n    socket.broadcast.emit('flux_action', payload);\n    client.create({\n      index: 'fluxocket-chats',\n      type: 'chats',\n      body: payload\n    }, function (error, response) {\n      console.log(error, response);\n    });\n  });\n});\nhttp.listen(process.env.PORT || 3000, function () {\n  console.log('listening on *:3000');\n});","map":{"version":3,"sources":["C:/Users/Abu Sufyan/ReactJS/src/server.js"],"names":["express","require","app","http","Server","io","fs","elasticsearch","client","Client","host","use","static","get","req","res","send","readFileSync","encoding","on","socket","payload","broadcast","emit","create","index","type","body","error","response","console","log","listen","process","env","PORT"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,GAAG,GAAGF,OAAO,EAAjB;;AACA,IAAIG,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAP,CAAgBG,MAAhB,CAAuBF,GAAvB,CAAX;;AACA,IAAIG,EAAE,GAAGJ,OAAO,CAAC,WAAD,CAAP,CAAqBE,IAArB,CAAT;;AACA,IAAIG,EAAE,GAAGL,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIM,aAAa,GAAGN,OAAO,CAAC,eAAD,CAA3B;;AAEA,IAAIO,MAAM,GAAG,IAAID,aAAa,CAACE,MAAlB,CAAyB;AACrCC,EAAAA,IAAI,EAAE;AAD+B,CAAzB,CAAb;AAIAR,GAAG,CAACS,GAAJ,CAAQX,OAAO,CAACY,MAAR,CAAe,QAAf,CAAR;AAEAV,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAkB;AAC9BA,EAAAA,GAAG,CAACC,IAAJ,CAASV,EAAE,CAACW,YAAH,CAAgB,YAAhB,EAA8B;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAA9B,CAAT;AACA,CAFD;AAIAb,EAAE,CAACc,EAAH,CAAM,YAAN,EAAoB,UAASC,MAAT,EAAgB;AACnCA,EAAAA,MAAM,CAACD,EAAP,CAAU,aAAV,EAAyB,UAASE,OAAT,EAAkB;AAC1CD,IAAAA,MAAM,CAACE,SAAP,CAAiBC,IAAjB,CAAsB,aAAtB,EAAqCF,OAArC;AAEAb,IAAAA,MAAM,CAACgB,MAAP,CAAc;AACbC,MAAAA,KAAK,EAAE,iBADM;AAEbC,MAAAA,IAAI,EAAE,OAFO;AAGbC,MAAAA,IAAI,EAAEN;AAHO,KAAd,EAIG,UAAUO,KAAV,EAAiBC,QAAjB,EAA2B;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,QAAnB;AACA,KAND;AAOA,GAVD;AAWA,CAZD;AAcA1B,IAAI,CAAC6B,MAAL,CAAYC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAhC,EAAsC,YAAU;AAC/CL,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,CAFD","sourcesContent":["var express = require('express');\r\nvar app = express();\r\nvar http = require('http').Server(app);\r\nvar io = require('socket.io')(http);\r\nvar fs = require('fs');\r\nvar elasticsearch = require('elasticsearch');\r\n\r\nvar client = new elasticsearch.Client({\r\n\thost: '2ac54adbf4dadad2000.qb0x.com:80'\r\n});\r\n\r\napp.use(express.static('public'));\r\n\r\napp.get('*', function(req, res){\r\n\tres.send(fs.readFileSync('index.html', { encoding: 'utf8' }));\r\n});\r\n\r\nio.on('connection', function(socket){\r\n\tsocket.on('flux_action', function(payload) {\r\n\t\tsocket.broadcast.emit('flux_action', payload);\r\n\r\n\t\tclient.create({\r\n\t\t\tindex: 'fluxocket-chats',\r\n\t\t\ttype: 'chats',\r\n\t\t\tbody: payload\r\n\t\t}, function (error, response) {\r\n\t\t\tconsole.log(error, response);\r\n\t\t});\r\n\t});\r\n});\r\n\r\nhttp.listen(process.env.PORT || 3000, function(){\r\n\tconsole.log('listening on *:3000');\r\n});"]},"metadata":{},"sourceType":"module"}